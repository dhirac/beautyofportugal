{% extends 'landing_base.html' %}
{% block content %}

<style>
  .blog-top-margin {
    margin-top: 60px;
   
  }

  /* Main blog content */
  .blog-post h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 15px;
  }

  .blog-post p.text-muted {
    font-size: 0.9rem;
    color: #888;
    margin-bottom: 20px;
  }

  .blog-content {
    line-height: 1.7;
    font-size: 1rem;
  }

  .blog-post img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin-bottom: 20px;
  }

  /* Sidebar styling */
  .sidebar {
    background-color: #f5f5f5; /* light gray */
    padding: 20px;
    border-radius: 12px;
    position: sticky;
    top: 100px;
  }

  .sidebar h4 {
    font-weight: 600;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
    margin-bottom: 20px;
  }

  .latest-blog-item {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
    padding: 8px;
    border-radius: 8px;
    transition: background 0.2s;
    text-decoration: none;
  }

  .latest-blog-item:hover {
    background-color: #e9e9e9;
  }

  .latest-blog-item img {
    width: 70px;
    height: 50px;
    object-fit: cover;
    border-radius: 6px;
    flex-shrink: 0;
  }

  .latest-blog-item .blog-info {
    margin-left: 12px;
  }

  .latest-blog-item .blog-info div:first-child {
    font-weight: 500;
    font-size: 0.95rem;
    color: #333;
  }

  .latest-blog-item .blog-info div:last-child {
    font-size: 0.8rem;
    color: #777;
    margin-top: 2px;
  }

  /* Layout */
  .blog-row {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
  }

  .blog-main {
    flex: 0 0 78%;
    max-width: 78%;
    box-sizing: border-box;
    padding-right: 15px;
  }

  .blog-sidebar {
    flex: 0 0 20%;
    max-width: 20%;
    box-sizing: border-box;
    padding-left: 15px;
  }

  /* Responsive adjustments */
  @media (max-width: 992px) {
    .blog-main,
    .blog-sidebar {
      flex: 0 0 100%;
      max-width: 100%;
      padding: 0;
    }

    .sidebar {
      position: static;
      top: auto;
      margin-top: 30px;
    }

    .blog-post h1 {
      font-size: 1.75rem;
    }

    .blog-content {
      font-size: 0.95rem;
    }
  }
</style>

<div class="container-fluid my-5 blog-top-margin">
  <div class="blog-row">

    <!-- Blog content -->
    <div class="blog-main">
      <article class="blog-post">
        
        <!-- Blog title -->
        <h1>{{ blog.title }}</h1>

     <div class="blog-top-content" style="display: flex; gap: 20px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center;">
  
  <!-- Banner -->
  {% if blog.banner %}
  <div class="blog-banner" style="flex: 1 1 600px; text-align: center;">
      <img src="{{ blog.banner.url }}" alt="{{ blog.title }}" style="max-width: 100%; height: auto; border-radius: 8px;">
  </div>
  {% endif %}
  
  <!-- Ad -->
  <div class="blog-ad" style="flex: 1 1 200px; text-align: center;">
      <!-- Example: Ad script -->
    <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle" style="display: block; text-align: center; height: 280px;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3038793883211959" data-ad-slot="8379977038" data-adsbygoogle-status="done" data-ad-status="filled"><div id="aswift_3_host" style="border: none; height: 280px; width: 748px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block; overflow: visible;"><iframe id="aswift_3" name="aswift_3" browsingtopics="true" style="left:0;position:absolute;top:0;border:0;width:748px;height:280px;min-height:auto;max-height:none;min-width:auto;max-width:none;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="748" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allow="attribution-reporting; run-ad-auction" src="https://googleads.g.doubleclick.net/pagead/ads?gdpr=1&amp;gdpr_consent=CQSvWgAQSvWgAEsACBENBuFoAP_gAEPgAB6YIXJD7C7FbSFCyD5zaLsAMAhHRsAAQoQAAASBAmABQAKQIAQCgkAYFASABAACAAAAICRBIQIECAAAAUAAQAAAAAAEAAAAAAAIIAAAgAEAAAAIAAACAIAAEAAIAAAAEAAAmAgAAIIACAAAgAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAQAAEELkg9hditpChZBwpsF2AGAQro2AAIUIAAAJAgTAAoAFIEAIBSSAIAiBAAAAAAAAAEBIgkAAEAAQAACAAoAAAAAACAAAAAAAEEAAAQACAAAAAAAABAEAACAAEAAAACAAARIQAAEEABAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAA.fmAAAAAAAAA&amp;addtl_consent=2~70.89.93.108.122.149.184.196.236.259.311.313.314.323.358.415.442.486.494.495.540.574.609.723.864.981.1029.1048.1051.1095.1097.1126.1205.1276.1301.1365.1415.1449.1514.1570.1577.1598.1651.1716.1735.1753.1765.1870.1878.1889.1958.1960.2072.2253.2299.2373.2415.2506.2526.2531.2568.2571.2575.2624.2677.2778~dv.&amp;client=ca-pub-3038793883211959&amp;output=html&amp;h=280&amp;slotname=8379977038&amp;adk=1878746376&amp;adf=2719909766&amp;pi=t.ma~as.8379977038&amp;w=748&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=0&amp;lmt=1755366067&amp;rafmt=1&amp;armr=3&amp;format=748x280&amp;url=https%3A%2F%2Fwww.theportugalnews.com%2Fnews%2F2025-08-15%2Fthe-most-affordable-places-to-live-in-the-algarve%2F600272&amp;fwr=0&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;uach=WyJtYWNPUyIsIjE1LjEuMSIsImFybSIsIiIsIjEzOS4wLjcyNTguMTI4IixudWxsLDAsbnVsbCwiNjQiLFtbIk5vdDtBPUJyYW5kIiwiOTkuMC4wLjAiXSxbIkdvb2dsZSBDaHJvbWUiLCIxMzkuMC43MjU4LjEyOCJdLFsiQ2hyb21pdW0iLCIxMzkuMC43MjU4LjEyOCJdXSwwXQ..&amp;dt=1755366067290&amp;bpp=1&amp;bdt=1483&amp;idt=0&amp;shv=r20250814&amp;mjsv=m202508140101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3Dd6ce6d89b13d999d%3AT%3D1731189596%3ART%3D1755366065%3AS%3DALNI_MavFVM4Um6lxWckllOupPP6gEMkLg&amp;gpic=UID%3D00000f89cd890b4a%3AT%3D1731189596%3ART%3D1755366065%3AS%3DALNI_MbZVit_cjEGcslNZSQ-VvmuQmOXeQ&amp;eo_id_str=ID%3D0b211b769cdf373b%3AT%3D1746882865%3ART%3D1755366065%3AS%3DAA-AfjaMkHbZ9S0kR_P01MQNRM7r&amp;prev_fmts=748x280%2C0x0%2C748x280&amp;nras=1&amp;correlator=3000113079417&amp;frm=20&amp;pv=1&amp;rplot=4&amp;u_tz=60&amp;u_his=3&amp;u_h=1080&amp;u_w=1920&amp;u_ah=1055&amp;u_aw=1920&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=425&amp;ady=3229&amp;biw=1920&amp;bih=934&amp;scr_x=0&amp;scr_y=200&amp;eid=31093859%2C31093862%2C31093900%2C31093926%2C31093927%2C31093937%2C95362655%2C95367635%2C95368366%2C31094101%2C95368518%2C95359266&amp;oid=2&amp;pvsid=8136495821243738&amp;tmod=1598430836&amp;uas=0&amp;nvt=1&amp;ref=https%3A%2F%2Fwww.theportugalnews.com%2F&amp;fc=896&amp;brdim=0%2C25%2C0%2C25%2C1920%2C25%2C1920%2C1055%2C1920%2C934&amp;vis=1&amp;rsz=%7C%7CEebr%7C&amp;abl=CS&amp;pfx=0&amp;fu=128&amp;bc=31&amp;bz=1&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=3&amp;fsb=1&amp;dtd=89" data-google-container-id="a!6" tabindex="0" title="Advertisement" aria-label="Advertisement" data-google-query-id="CKOEoJfwj48DFb9EHQkdYwg2Pw" data-load-complete="true"></iframe></div></ins>
  </div>
  
</div>


        <p class="text-muted">{{ blog.created_at|date:"F j, Y" }}</p>

        <!-- Blog content -->
        <div class="blog-content">
          {{ blog.description|safe }}
        </div>

      </article>
    </div>

    <!-- Sidebar with latest blogs -->
    <div class="blog-sidebar">
      <aside class="sidebar">
        <h4>Latest Blogs</h4>

        {% for latest in latest_blogs %}
        <a href="{% url 'blog_detail' latest.slug %}" class="latest-blog-item d-block">
          {% if latest.banner %}
          <img src="{{ latest.banner.url }}" alt="{{ latest.title }}">
          {% endif %}
          <div class="blog-info">
            <div>{{ latest.title }}</div>
            <div>{{ latest.created_at|date:"M j, Y" }}</div>
          </div>
        </a>
        {% empty %}
        <p>No recent blogs found.</p>
        {% endfor %}

      </aside>
    </div>

  </div>
</div>

{% endblock %}

{% extends 'landing_base.html' %}
{% block content %}

{% if event %}
<div id="adModal" class="ad-modal" style="display:block;">
    <div class="ad-modal-content">
      <span class="ad-modal-close">&times;</span>
      <a href="{% url 'event_detail' event.id %}" target="_blank">
        <img src="{{ event.image.url }}" alt="Join Photo Tour" style="width:100%; height:auto; border-radius:8px;">
      </a>
    </div>
</div>

<style>
    .ad-modal {
      position: fixed;
      z-index: 9999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      display: flex; align-items: center; justify-content: center;
    }
    .ad-modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      position: relative;
      max-width: 900px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      text-align: center;
    }
    .ad-modal-close {
      position: absolute;
      top: 10px; right: 15px;
      font-size: 28px;
      font-weight: bold;
      color: #333;
      cursor: pointer;
    }
</style>

<script>
window.onload = function() {
    const modal = document.getElementById('adModal');
    const closeBtn = modal.querySelector('.ad-modal-close');

    modal.style.display = 'flex';

    closeBtn.onclick = function() {
        modal.style.display = 'none';
    }

    window.onclick = function(event) {
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    }
};
</script>
{% endif %}

<!-- Photo Banner Carousel -->
<div class="container-fluid" data-aos="fade" data-aos-delay="500">
  <div class="swiper-container images-carousel " style="margin-top: 20px;">
    <div class="swiper-wrapper">
      {% for category in categories %}
      <div class="swiper-slide">
        <div class="image-wrap">
          <div class="image-info">
            <h2 class="mb-3">{{ category.title }}</h2>
            <a href="gallery/{{ category.slug }}" class="btn btn-outline-white py-2 px-4">More Photos</a>
          </div>
          <img src="/media/{{ category.thumbnail }}" alt="Image"> 
        </div>
      </div>
      {% endfor %} 
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-scrollbar"></div>
  </div>
</div>


{% endblock content %}
